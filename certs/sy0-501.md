# CompTIA Security+

## Secure network design
### Devices
Network devices [[1](#sources): 2-16]
- **Firewall** eliminates undesired access from the outside and can be composed of hardware, software, or both
- **Router** operates at OSI L3 and receives information from a host and forward it to its destination using tables which can be configured manually or dynamically, using one of a number of protocols. They can also use **access control lists (ACL)** to filter packets by source or destination address, protocol, or port.
- **Switch** operates at OSI L2 and forward packets from the **wiring closet** to the desktop.
- **Load balancer** server cluster to provide scalability and high availability by distributing IP traffic to multiple instances of a TCP/IP service, such as a web server.
- **Proxy** used for security, logging, and caching
- **Bastion host** exposed server that provides public access to a critical service (i.e. proxy, web, or email server), configured to isolate it from an organization's internal network [[1](#sources): 7]
- **Web security gateway** offers a single point of policy control and management for web-based content access [[1](#sources): 7]
- **VPN concentrator** allows multiple external users to access internal network resources securely
  - **Scalable Encryption Processing modules (SEP)** component of Cisco VPN concentrators [[1](#sources): 8]
- **Protocol analyzer** gather packet-level information across the network
- **UTM Security Appliance** (Barracuda Spam & Virus Firewall, Cisco Web Security)
- **Spam filter**
- **URL filter** report violations of content policies, and data can be filtered, captured, or blocked (Windows Parental Controls)
- **Content filter** needs to be trained to filter objectionable content
- **Malware inspection filter** web filter applied to HTTP traffic, inspecting the body of all HTTP requests and responses and blocking malicious content, hashing files and comparing values against a signature database, caching files for running a heuristic scan later
- **Web application firewall** also "deep packet inspection (DPI) firewalls", protects web servers against attack, used specifically for preventing common web-based attacks (i.e. cross-site scripting, SQL injection) [[1](#sourceS): 15]

#### IDS
**Intrustion Detection System (IDS)** designed to analyze data, identify attacks, and respond to intrusions and can use either **knowledge-** or **behavior-** based detection methods.\
Two types of IDS often used together:
- **Network IDS (NIDS)** monitor packet flow and try to locate packets that should not have gotten in; good at detecting **DoS attacks** and **unauthorized access**
- **Host IDS (HIDS)** monitor communications on each host and filter malicious data; good at detecting unauthorized **file modifications** and **user activity**

- **Network Intrusion Prevention System (NIPS)** sits inline with traffic flow and prevents attacks in realtime. Sensors must be physically inline in order to function properly, creating a **single point of failure**; use of **fail-open** technology will allow the device to act as a patch cable if it fails.
- **Behavior-based** detection relies on comparing current with normal activity, identifying attempts to exploit new or undocumented vulnerabilities but also producing a high false alarm rate
- **Signature-based** detection relies on a database of known vulnerabilities
- **Anomaly-based** also relies on the concept of using a baseline of network behavior

Firewall rules [[Barrett](#barrett): 20-1]
- Specify one of three actions: allow, allow if secured, or block
- More restrictive rules should be specified first, since processing stops when a rule is found for a network packet

### Network administration
- **Rule-based access control (RBAC)** based on ACLs
- **Firewall rules** allow traffic associated with programs or services to be sent or received adn can take one of three actions: **allow** the connection, **allow if secured**, or **block** it. More restrictive rules should be listed first, since as soon as a rule matching the network packet is found the rule is implemented and further rules are not consulted. [[Barrett](#barrett): 20-1]
- **VLAN management**
- **Access control** process of making resources available to accounts that should have access. Most common privileges are **read**, **write**, **delete**, and **execute**.
  - **Access control entry (ACE)** components of an ACL in Microsoft operating systems [[Barrett](#barrett): 23]
- **Port security** traffic control feature on Cisco Catalyst switches whereby an individual switch port can be configured to only allow traffic from specific MAC addresses. [[Barrett](#barrett): 23]
  - **Shutdown mode** default behavior of an interface using port security, whereby it enters the error-disabled state [[Barrett](#barrett): 23]
  - **Protect mode** frames from MAC addresses other than the allowed addresses are dropped [[Barrett](#barrett): 23]
  - **Restrict mode** frames from MAC addresses other than the allowed addresses are dropped, syslog message is generated, and violation counter is increased [[Barrett](#barrett): 23]
- **802.1X** passes EAP over a wired or wireless LAN, used for access control especially for wireless APs [[Barrett](#barrett): 24]
- **Flood guard** advanced firewall guard feature used to control network activity associated with DoS attacks, most commonly associated with the Cisco PIX firewall [[Barrett](#barrett): 24]
- Loop protection through STP
- **Implicit deny** resource availability is restricted to only those logins explicitly granted access, remaining unavailable even when not explicitly denied access [[Barrett](#barrett): 25]
- Network separation reduces the potential for damage in interconnected systems
- **Logging** process of collecting data to be used for monitoring and auditing purposes [[Barrett](#barrett): 26]
- **Unified threat management (UTM)** appliance that integrates a wide range of security features, combining the functions of firewall, gateway antivirus, IDS, VPN, and endpoint control, and providing better incident awareness, security control, network traffic notification, and monitoring of user behavior and application content than individual devices [[Barrett](#barrett): 27]

### Network design elements
- DMZ
- Subnetting: most commonly done to control network traffic by limiting broadcasts. Subnet divisions can reflect organizational structure and security policy objectives. [[Barret](#barrett): 32]
  - **Intranet** subnet portion of the internal network that uses web-based technologies 
  - **Extranet** subnet of the public infrastructure that allows resources to be used by authorized partners; commonly used for B2B relationships
- **VLAN** unites network nodes into the same broadcast domain regardless of physical attachment, limiting broadcast traffic [[Barret](#barrett): 35]
  - **Frame tagging** 802.1Q process where frames are encapsulated with headers and tagged with a VLAN ID which informs forwarding decisions by VLAN-aware network devices
- NAT
  - **Internet Connection Sharing (ICS)** use of one device with access to the Internet as an access point for other devices to connect [[Dulaney](#dulaney): 480, [Barrett](#barrett): 36]
  - **Network address translation - protocol translation (NAT-PT)** developed as a means for hosts that run IPv6 to communicate with hosts that run IPv4 [[Barret](#barrett): 36]
- **Remote access service (RAS)** allows secure access to corporate resources through an encrypted tunnel over the Internet; achieved primarily through VPNs using IPsec or SSL [[Dulaney](#dulaney): 348; [Barrett](#barrett): 37]
  - **Routing and remote access (RRAS)** network service available on Microsoft server installations that allows the deployment of VPNs and dialup RAS

**Telephony** transmission of data through equipment in a telecommunications environment, including voice, fax, or other data [[Barret](#barrett): 37-8]
- **Session Initiation Protocol (SIP)** application layer protocol used to create multimedia sessions, including VoIP, using default ports **5060** and **5061**; commonly used in instant messaging but can also be used as an alternative to VoIP [[Dulaney](#dulaney): 57; [Barrett](#barrett): 38]
- **Inter asterisk exchange (IAX)** audio/video protocol
- **Private branch exchange (PBX)** 
- VoIP
- H.323

**Network access control (NAC)** grants or denies access to a machine according to its configuration [[Barret](#barrett): 39-40]\
Components:
- **Access requestor (AR)** device requesting access; assessment can be self-performed or delegated to another system
- **Policy decision point (PDP)** system that assigns a policy based on the assessment
- **Policy enforcement point (PEP)** device that enforces policy (switch, firewall, or router) 

Integrating NAC systems into a network:
- **Inline** appliance between access and distribution switches
- **Out of band** intervenes and performs assessment as hosts come online and then grants appropriate access
- **Switch based** enforcement occurs on switch
- **Host based** host agent assess and enforces access policy

Security concepts
- **Layered security** security should be implemented at different layers to form a complete security strategy [[Barret](#barrett): 44]
- **Defense in depth** emphasis should be balanced between people, technology and operations; layered security components slow down threats, giving organization time to respond [[Barret](#barrett): 44]

## Syntax

`floodguard` | [[Barrett](#barrett): 24]

## Sources
##### Barrett
"CompTIA Security+ Study Guide: Exam SY0-401". Diane **Barrett**, Martin Weiss, Kirk Hausman. 2015.